<!DOCTYPE html>
<html>

<head>
	<title>Shopin A Ecommerce Category Flat Bootstrap Responsive Website Template | Home :: w3layouts</title>
	<link href="/css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />

	<link href="/css/style.css" rel="stylesheet" type="text/css" media="all" />
	<!-- goole materials icons -->
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
	<!--//theme-style-->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="Shopin Responsive web template, Bootstrap Web Templates, Flat Web Templates, AndroId Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
	<script
		type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
	<!--theme-style-->
	<link href="/css/style4.css" rel="stylesheet" type="text/css" media="all" />
	<!-- font-awesome -->
	<script src="https://kit.fontawesome.com/41075abdaa.js" crossorigin="anonymous"></script>
	<!--//theme-style-->
	<script src="/js/jquery.min.js"></script>
	<!--- start-rate---->
	<script src="/js/jstarbox.js"></script>
	<script src="https://unpkg.com/easyinvoice/dist/easyinvoice.min.js"></script>
	<link rel="stylesheet" href="/css/jstarbox.css" type="text/css" media="screen" charset="utf-8" />
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script type="text/javascript">
		jQuery(function () {
			jQuery('.starbox').each(function () {
				var starbox = jQuery(this);
				starbox.starbox({
					average: starbox.attr('data-start-value'),
					changeable: starbox.hasClass('unchangeable') ? false : starbox.hasClass('clickonce') ? 'once' : true,
					ghosting: starbox.hasClass('ghosting'),
					autoUpdateAverage: starbox.hasClass('autoupdate'),
					buttons: starbox.hasClass('smooth') ? false : starbox.attr('data-button-count') || 5,
					stars: starbox.attr('data-star-count') || 5
				}).bind('starbox-value-changed', function (event, value) {
					if (starbox.hasClass('random')) {
						var val = Math.random();
						starbox.next().text(' ' + val);
						return val;
					}
				})
			});
		});
	</script>
</head>

<body>
	<!--header-->
	<div class="header">
		<div class="container">
			<div class="head">
				<div class=" logo">
					<a href="/">
						<img src="/images/logo.png" alt="">
						
					</a>
				</div>
			</div>
		</div>
		<div class="header-top">
			<div class="container  ">
				<div class="col-sm-5 col-md-offset-2  header-login">
					<ul class="center-ul">
						<% if(locals.isAuthenticated){ %>
							<li class=".center-icon">
								<a href="/user-profile">
									<span class="material-symbols-outlined"
										id="userAccount">account_circle</span>profile
								</a>
							</li>
							<% }else{ %>
								<li class=".center-icon">
									<a href="/login">
										<span class="material-symbols-outlined">input</span>Login
									</a>
								</li>
								<li class=".center-icon">
									<a href="/register">
										<span class="material-symbols-outlined">person_add</span>Register
									</a>
								</li>
								<% } %>
					</ul>
				</div>
				<div class="col-sm-5 header-social">
					<ul>
						<% if(locals.isAuthenticated){ %>
							<li><a href="/logout" class="">
								<span class="material-symbols-outlined" style="color:red">
									settings_power
									</span>
							</a></li>
							<% } %>
					</ul>
				</div>
				<div class="clearfix"> </div>
			</div>
		</div>
		<div class="container position-relative">
			<div class="head-top">
				<div class="col-sm-8 col-md-offset-2 h_menu4">
					<nav class="navbar nav_bottom" role="navigation">
						<div class="navbar-header nav_2">
							<button type="button" class="navbar-toggle collapsed navbar-toggle1" data-toggle="collapse"
								data-target="#bs-megadropdown-tabs">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
						</div>
						<div class="collapse navbar-collapse" id="bs-megadropdown-tabs">
							<ul class="nav navbar-nav nav_1">
								<li><a class="color" href="/">Home</a></li>
								<li class="dropdown mega-dropdown active">
									<a class="color1" href="#" class="dropdown-toggle" data-toggle="dropdown">Collections<span
											class="caret"></span></a>
									<div class="dropdown-menu ">
										<div class="menu-top">
											<div class="col1">
												<div class="h_nav">
													<h4>Boys</h4>
													<ul>
														<!-- <li><a href="/categorised-products/Boys/All/0">All</a></li> -->
														<li><a href="/categorised-products?catName=Boys&subCatName=All&sort=0">All</a></li>
														<% categories.boys.forEach(cat=>{ %>
														<li><a href="/categorised-products?catName=Boys&subCatName=<%= cat.category %>&sort=0"><%= cat.category %></a></li>
														<!-- <li><a href="/categorised-products/Boys/<%= cat.category %>/0"><%= cat.category %></a></li> -->
														<% }) %>
													</ul>
												</div>
											</div>
											<div class="col1">
												<div class="h_nav">
													<h4>Girls</h4>
													<ul>
														<!-- <li><a href="/categorised-products/Girls/All/0">All</a></li> -->
														<li><a href="/categorised-products?catName=Girls&subCatName=All&sort=0">All</a></li>
														<% categories.girls.forEach(cat=>{ %>
															<!-- <li><a href="/categorised-products/Girls/<%= cat.category %>/0"><%= cat.category %></a></li> -->
															<li><a href="/categorised-products?catName=Girls&subCatName=<%= encodeURIComponent(cat.category.trim()) %>&sort=0"><%= cat.category %></a></li>
														<% }) %>
													</ul>
												</div>
											</div>
											<div class="col1">
												<div class="h_nav">
													<h4>Unisex</h4>
													<ul>
														<!-- <li><a href="/categorised-products/Unisex/All/0">All</a></li> -->
														<li><a href="/categorised-products?catName=Unisex&subCatName=All&sort=0">All</a></li>
														<% categories.unisex.forEach(cat=>{ %>
															<li><a href="/categorised-products?catName=Unisex&subCatName=<%= cat.category %>&sort=0"><%= cat.category %></a></li>
															<!-- <li><a href="/categorised-products/Unisex/<%= cat.category %>/0"><%= cat.category %></a></li> -->
														<% }) %>
													</ul>
												</div>
											</div>
											<div class="clearfix"></div>
										</div>
									</div>
								</li>
								<li><a class="color3" href="/products/0">Store</a></li>
								<li><a class="color6" href="/contact">Contact</a></li>
							</ul>
						</div>
					</nav>
				</div>
				<div class="col-sm-2 search-right">
					<ul class="heart">
						<li>
							<a class="play-icon popup-with-zoom-anim" href="#small-dialog">
								<span id="searchIcon" class="material-symbols-outlined">search</span>
							</a>
						</li>
						<script>
							$('#searchIcon').click(function () {
								$('#searchBar').toggle();
								$('#searchInput').focus();
							})
						</script>
						<% if(locals.isAuthenticated){ %>
							<li>
								<a href="/wishlist">
									<span class="material-symbols-outlined">favorite</span>
								</a>
							</li>
							<li>
								<a href="/user-cart">
									<span class="material-symbols-outlined shopping_cart">shopping_cart</span>
									<span id="cart-qty">
										<%= cartQty=='undefined' ? 0 : cartQty %>
									</span>
								</a>
							</li>
							<% } %>
					</ul>
					<div class="clearfix"> </div>
				</div>
				<link href="/css/popuo-box.css" rel="stylesheet" type="text/css" media="all" />
				<script src="/js/jquery.magnific-popup.js" type="text/javascript"></script>
				<div class="clearfix"></div>

			</div>
			<style>
				#searchBar {
					position: absolute;
					top: 120px;
					left: 5%;
					z-index: 999;
					width: 100%;
					max-height: 200px;
					overflow-y: auto;
				}
			</style>

			<div id="searchBar" hidden>
				<form action="/search-products" method="get">
					<div class="input-group" style="width: 90%;">
						<input id="searchInput" name="searchKey" class="form-control" data-search-product type="search">

					</div>
				</form>
			</div>
			<div id="productContainer"></div>
			<style>
				#productContainer {
					position: absolute;
					top: 155px;
					left: 0;
					z-index: 999;
					left: 5%;
					background-color: white;
					width: 90%;
					max-height: 200px;
					overflow-y: auto;
				}
			</style>
			<template data-product-template>
				<div class="card">
					<div class="list-group">
						<a href="" data-productName class=" list-group-item list-group-item-action">A second link
							item</a>
					</div>
				</div>
			</template>
		</div>
		<script>
			const searchTemplate = document.querySelector('[data-product-template]');
			const searchInput = document.getElementById('searchInput');
			const productContainer = document.getElementById('productContainer')
			searchInput.addEventListener('input', () => {
				console.log('typing.....')
				productContainer.innerHTML = '';
				fetch(`/search-products/${searchInput.value}`)
					.then(response => response.json())
					.then(data => {

						data.forEach(product => {
							const card = searchTemplate.content.cloneNode(true).children[0];
							const productList = card.querySelector('[data-productName]')
							productList.textContent = product.productName;
							productList.setAttribute('href', `/single-product/${product._id}`)
							productContainer.append(card)
						})
					}).catch(error => { console.log(error) })
			})
		</script>

	</div>